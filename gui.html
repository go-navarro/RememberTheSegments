<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
<html>

<head>
    <link rel="stylesheet" href="guiStyling.css">
</head>

<body>
    <div id="divMain">
        <?xml version="1.0" encoding="UTF-8" standalone="no"?>
        <svg id="shapeContainer" width="150mm" height="150mm" viewBox="0 0 150 150" version="1.1"
            xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg">
            <defs id="defs2" />
            <g id="layer1">
                <path id="segment0" style="stroke-width:0.263733" fill="#cd7f32" type="arc" cx="75" cy="75" rx="60"
                    ry="60" start="4.712389" end="0" arc-type="slice" onmousedown="registerClick(this.id)"
                    onmouseup="resetSegments()" d="m 75,15 a 60,60 0 0 1 60,60 H 75 Z" />
                <path id="segment1" style="stroke-width:0.263733" fill="#ffbf00" type="arc" cx="75" cy="75" rx="60"
                    ry="60" start="3.1415927" end="4.712389" arc-type="slice" onmousedown="registerClick(this.id)"
                    onmouseup="resetSegments()"
                    d="M 15,75 A 60,60 0 0 1 32.573594,32.573593 60,60 0 0 1 75,15 v 60 z" />
                <path id="segment2" style="stroke-width:0.263733" fill="#880808" type="arc" cx="75" cy="75" rx="60"
                    ry="60" start="1.5707963" end="3.1415927" arc-type="slice" onmousedown="registerClick(this.id)"
                    onmouseup="resetSegments()"
                    d="M 75,135 A 60,60 0 0 1 32.573593,117.42641 60,60 0 0 1 15,75 h 60 z" />
                <path id="segment3" style="stroke-width:0.263733" fill="#000000" type="arc" cx="75" cy="75" rx="60"
                    ry="60" start="0" end="1.5707963" arc-type="slice" onmousedown="registerClick(this.id)"
                    onmouseup="resetSegments()" d="M 135,75 A 60,60 0 0 1 75,135 V 75 Z" />
            </g>
        </svg>
        <button id="inputArg" onkeyup="getArg()" onclick="viewRandomInt(4)">
            <!-- <button id="inputArg" onkeyup="getArg()" onclick="resetSegments()">             -->
    </div>
</body>
<script type="text/javascript" src="RandomNumberGeneration.js"></script>
<script>
    var initialColors = ["#cd7f32", "#ffbf00", "#880808", "#000000"];
    var segmentNames = ["segment0", "segment1", "segment2", "segment3"];
    var numSegments = 4;

    var offColor = "#ffffff";

    function changeSegmentColor(index, color) {
        document.getElementById(segmentNames[index]).setAttribute("fill", color);
    }

    function resetSegments() {
        for (i in initialColors) {
            changeSegmentColor(i, initialColors[i]);
        }
    }

    function registerClick(id) {
        document.getElementById(id).setAttribute("fill", offColor);
        console.log(id);
        return id;
    }

    function getArg() {
        var inArg = document.getElementById("inputArg").value;
        for (i in segmentNames) {
            if (inArg === segmentNames[i]) {
                let chosenSegment = document.getElementById(segmentNames[i]);
                chosenSegment.setAttribute("fill", offColor);
            }
        }
    }


    function viewRandomInt(seqLength) {
        let increment = 400;
        for (let i = 0; i < seqLength + 3; i++) {
            setTimeout(() => {
                if ((i % 2) === 0) {
                    let rand = randomInt(0, numSegments - 1);
                    // let rand = 0;
                    console.log(rand + "...");
                    let chosenSegment = document.getElementById(segmentNames[rand]);
                    chosenSegment.setAttribute("fill", offColor);
                } else {
                    resetSegments();
                }
            }, i * increment);
        }

        setTimeout(() => {
            resetSegments();
        }, (seqLength + 3) * increment);
    }

    viewRandomInt(4);

</script>

</html>